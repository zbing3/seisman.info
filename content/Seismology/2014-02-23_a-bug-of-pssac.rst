pssac的一个bug
==============

:date: 2014-02-23 13:45
:modified: 2014-02-25
:author: SeisMan
:category: 地震学软件
:tags: pssac, bug
:slug: a-bug-of-pssac

pssac.c源码中定义了float型变量x0 ，但是未对其进行初始化，在不从stdin读入信息的情况下，x0一直未赋值，而代码中使用了\ ``t += x0``\ 作为绘制波形的起点。

未初始化的变量在未赋值之前，其值是不确定的。虽然对大多数平台或者编译器来说，未初始化的变量其值为0，但是也有一些例外，比如编译器\ ``gcc (Ubuntu/Linaro 4.8.1-10ubuntu9) 4.8.1``\ 对于未初始化的变量其值是随机值，因而会导致绘图的起点出现随机偏移，即使使用最简单的例子也无法绘图。

修正这个bug的办法也很简单，在定义x0时将其初始化为0.0即可。

2014-02-25：目前Prof. Lupei Zhu主页上的\ ``pssac.c``\ 代码已经修正了此Bug。

