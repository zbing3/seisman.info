GMT5相对GMT4的一些变化
######################

:date: 2013-11-08 00:17
:author: SeisMan
:category: GMT
:tags: GMT5
:slug: difference-between-gmt-5-and-4

.. contents::

期待了很久的GMT5终于出来了，先总结一下GMT5相对于GMT4的变化。内容主要来自于GMT manual。

一些基本的变化
==============

-  GMT5文档本身变丑了，没有设计封面，完全没有美感可言，内部的排版也没有GMT4的文档美观；
-  增加了200+新特性；
-  重写了PSL绘图函数库，生成的PS代码更短更兼容；
-  开放了API，可以供C/C++直接调用，部分可以支持F77。目前正在开发Matlab接口，并计划开发Python接口；
-  GMT5的部分命令以及几乎全部默认参数名都发生了变化，但是GMT5提供了兼容模式，可以良好执行GMT4语法；

命令的变化
==========

对于GMT4而言，GMT/bin目录下有143个可执行文件，而对于GMT5来说，只有一个命令\ ``gmt``\ 和几个辅助型bash脚本，其他命令如\ ``psxy``\ 都是指向gmt的符号链接。GMT5采用"gmt module"的方式执行单个命令，比如\ ``gmt pscoast``\ 与GMT4中的\ ``pscoast``\ 相同。这样做的好处在于，避免了GMT的psxy命令与其他软件的psxy命令相互冲突。

之所以建立指向gmt的众多符号链接，是为了满足GMT4兼容性的需求。其实，或许有个更好的办法，下一篇博文再说。

有部分命令修改了名字，有部分命令从原来的补充包中提升到标准包中，具体的不说。

常用选项的变化
==============

GMT5新增了一些常用选项，同时也删除了部分GMT4中不用的常用选项：

-  -a选项：用于处理GDAL数据；
-  -b选项的功能被加强，可以自定义二进制文件的格式；
-  -i和-o选项可以控制读取和写入table数据时读取哪些列，以及按照何种顺序读取/写入，更灵活了；
-  -n选项：可以控制网格读取时的插值和边界条件；
-  -p选项：perspective view，应该翻译成立体图或者视角图，以前只有特定的命令才可使用，（如pscoast加上-E选项），现在所有绘图命令都可以使用该视图了；
-  -s选项：控制读入数据时的NaN；
-  -t选项：支持图层的透明化。该特性对PS文件无效，需要将ps转换为pdf才能看到透明效果；
-  -B选项：功能增强了，可以自定义更灵活的坐标轴了；同时其也可以自动计算最优的间隔；
-  -R选项：有一点变化，具体没看懂；
-  -fp：允许输入的数据是已经经过投影之后的坐标；

一些默认参数的变化
==================

几乎所有的默认参数名字都变了，其目的是为了更好的根据名字来分组，看上去有些不习惯了。同时多了一些新的默认参数，下面列举几个比较有意思的：

-  DIR_DCW：GMT现在支持了DCW数据；
-  DIR_GSHHG：GMT的GSHHG的目录；
-  GMT_COMPATIBILITY：若为4则表示兼容GMT4；若为5则表示严格按照GMT5的语法；
-  PS_TRANSPARENCY：当PS转换为PDF文件时，透明图层要如何处理；

其他的一些改变
==============

-  对于绘图尺寸单位以及距离单位进行了重新定义；
-  程序可以自动识别多段数据了，这意味着再也不需要-m选项了；
-  对于网格文件，支持更多的操作；
-  cpt文件可以对应不同的单位；
-  支持直接读取Arc/Info 浮点型二进制网格文件以及ESRI的.hdr格式；
-  所有的文本都支持描边了；
-  所有颜色均可定义透明度；
-  新增到36个标准CPT文件；

结束
====

总的来说，GMT5相对于GMT4来说的变化还是很大的。
